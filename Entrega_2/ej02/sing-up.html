<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="style/normalize.css">
    <link rel="stylesheet" type="text/css" href="style/grid.css">
    <link rel="stylesheet" type="text/css" href="style/ionicons.css">
    <link href="https://fonts.googleapis.com/css?family=Archivo+Black" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style/style.css">
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="script/js.cookie.js"></script>

    <title>Borderlands SignUp Page</title>
</head>

<body>
    <form action="index.html" method="post">
        <h1>Sign Up</h1>
        <fieldset>
            <legend>Dirección de Registro</legend>
            <label for="name">Nombre *:</label>
            <input type="text" id="name_d" name="user_name">
            <label for="name">Apellido 1 *:</label>
            <input type="text" id="ap_1" name="user_name">
            <label for="name">Apellido 2 *:</label>
            <input type="text" id="ap_2" name="user_name">
            <label for="mail">Email *:</label>
            <input type="email" id="email" name="user_email">
            <label for="mail">Confirmación de Email *:</label>
            <input type="email" id="cemail" name="cuser_email"> </fieldset>
            <br>
            <fieldset>
                <legend>Usuario</legend>
                <label for="name">Nombre de usuario *:</label>
                <input type="text" id="name" name="user_name">
                <label for="password">Password *:</label>
                <input type="password" id="password" name="password">
                <label for="password">Password confirmation *:</label>
                <input type="password" id="cpassword" name="cpassword">
                <label for="imagen">Más adelante podrá cambiar la imagen de perfil</label>
                <br>
                <label for="imagen">Todos los elementos con asterisco son obligatorios</label>
            </fieldset>
            <br>
            <fieldset>
                <legend>Información de Intereses y Hobbies</legend>

                <label>Intereses:</label>
                <input type="checkbox" id="technology" value="interest_technology" name="user_interest">
                <label class="light" for="technology">Tecnología</label>
                <br>
                <input type="checkbox" id="culture" value="interest_culture" name="user_interest">
                <label class="light" for="culture">Cultura</label>
                <br>
                <input type="checkbox" id="art" value="interest_art" name="user_interest">
                <label class="light" for="art">Arte</label>
                <br>
                <br>
                <label for="job">Rol de trabajo:</label>
                <select id="job" name="user_job">
                 <option value="photo_amateur">Aficionado a la Fotografía</option>
                 <option value="photo_pro">Profesional de la Fotografía</option>
             </select>
             <!-- modal content!!!-->
             <div id="sinfo" class="study-info">

                 <h3>Información del estudio</h3>
                 <fieldset>
                     <label for="study_name">Nombre del estudio:</label>
                     <input type="text" id="name_s" name="study_name">
                     <label for="dir">Dirección:</label>
                     <input type="text" id="dir" name="direction">
                     <label for="tlf">Teléfono de contacto:</label>
                     <input type="text" id="tlf" name="tlf">
                 </fieldset>
             </div>
         </fieldset>
         <!-- end of modal content!!! -->
     </fieldset>
     <br>
     <br>
     <input type="checkbox" id="terms" value="terms" name="user_interest">
     <label class="light" for="terms">He leído y acepto los términos de uso.</label>
     <br>
     <br>
     <button class="rbutton" id="register" onclick="bsubmit()" type="submit">Sign Up</button>
 </form>
</body>
<script>
    function bsubmit() {
        var pattern = /^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;
        if (!$('#name_d').val()) {
            $('#name_d').css("background", "red");
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
        }else
        if (!$('#ap_1').val()) {
            $('#ap_1').css("background", "red");
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
        } else
        if (!$('#ap_2').val()) {
            $('#ap_2').css("background", "red");
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
        } else
        if (!$('#email').val() || !pattern.test($('#email').val())) {
            $('#email').css("background", "red");
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
        } else
        if (!$('#name').val()) {
            $('#name').css("background", "red");
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
        } else
        if (!$('#password').val()) {
            $('#password').css("background", "red");
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
        } else {
            $('#register').css("background", "#ffa804");
            $("#register").prop("disabled", false);

            var email = $('#email');
            window.open = "mailto:"+email;

            var name =  $('#name').val();
            var pass = $('#password').val();
            document.cookie = name + "=" + pass;
        }
    };


    /* restableceer los campos */
    $('#name_d').focusout(function () {
        // get values on the focusout event
        if (!$('#name_d').val()) {
            $('#name_d').css("background", "red");
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
        }
        else {
            $('#name_d').css("background", "#e8eeef");
            $('#register').css("background", "#ffa804");
            $("#register").prop("disabled", false);
        }
    });
    $('#ap_1').focusout(function () {
        // get values on the focusout event
        if (!$('#ap_1').val()) {
            $('#ap_1').css("background", "red");
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
        }
        else {
            $('#ap_1').css("background", "#e8eeef");
            $('#register').css("background", "#ffa804");
            $("#register").prop("disabled", false);
        }
    });
    $('#ap_2').focusout(function () {
        // get values on the focusout event
        if (!$('#ap_2').val()) {
            $('#ap_2').css("background", "red");
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
        }
        else {
            $('#ap_2').css("background", "#e8eeef");
            $('#register').css("background", "#ffa804");
            $("#register").prop("disabled", false);
        }
    });
    $('#email').focusout(function () {
        // get values on the focusout event
        if (!$('#email').val()) {
            $('#email').css("background", "red");
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
        }
        else {
            $('#email').css("background", "#e8eeef");
            $('#register').css("background", "#ffa804");
            $("#register").prop("disabled", false);
        }
    });
    $('#name').focusout(function () {
        // get values on the focusout event
        if (!$('#name').val()) {
            $('#name').css("background", "red");
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
        }
        else {
            $('#name').css("background", "#e8eeef");
            $('#register').css("background", "#ffa804");
            $("#register").prop("disabled", false);
        }
    });

    $('#password').focusout(function () {
        // get values on the focusout event
        var pass = $('#password');
        if (pass.val() > 8 || !$('#password').val() || pass.val().search(/[^a-zA-Z0-9\!\@\#\$\%\^\&\*\(\)\_\+]/) != -1) {
            $('#password').css("background", "red");
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
            alert("La contraseña no debe ser mayor a 8 caracteres son sólo letras y números.")
        }
        else {
            $('#password').css("background", "#e8eeef");
            $('#register').css("background", "#ffa804");
            $("#register").prop("disabled", false);
        }
    });
    $('#cpassword').focusout(function () {
        // get values on the focusout event
        var pass = $('#password');
        var pass2 = $('#cpassword');
        // test them...
        if (pass.val() != pass2.val() || !$('#cpassword').val()) {
            $('#cpassword').css("background", "red");
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
        }
        else {
            $('#cpassword').css("background", "#e8eeef");
            $('#register').css("background", "#ffa804");
            $("#register").prop("disabled", false);
        }
    });
    $('#cemail').focusout(function () {
        // get values on the focusout event
        var email = $('#email');
        var email2 = $('#cemail');
        // test them...
        if (email.val() != email2.val() || !$('#cemail').val()) {
            $('#cemail').css("background", "red");
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
        }
        else {
            $('#cemail').css("background", "#e8eeef");
            $('#register').css("background", "#ffa804");
            $("#register").prop("disabled", false);
        }
    });
    /*****************************/
    /*****************************/
    /*****************************/
    $('#job').change(function () {
/*
        var show = $('#job');
        $('#name_s').css("background", "red");
        $('#dir').css("background", "red");
        $('#tlf').css("background", "red");
        $('#register').css("background", "red");
        $("#register").prop("disabled", true);
        show.next().show();
        */

        var str = "";
        $( "#job option:selected").each(function(){
            str += $( this ).val();
        });
        if(str.localeCompare("photo_amateur") == 0){
            $('#job').next().hide();
            $('#register').css("background", "#ffa804");
            $("#register").prop("disabled", false);
        }
        if(str.localeCompare("photo_pro") == 0){
            $('#name_s').css("background", "red");
            $('#dir').css("background", "red");
            $('#tlf').css("background", "red");
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
            $('#job').next().show();
        }
    });
    /*****************************/
    /*****************************
    $('#terms').change(function () {
        // get values on the focusout event
        if (!$('#terms').val()) {
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
        }
        else {
            $('#register').css("background", "#ffa804");
            $("#register").prop("disabled", false);
        }
    });
    /*****************************/
    $('#name_s').change(function () {
        // get values on the focusout event
        if (!$('#name_s').val()) {
            $('#name_s').css("background", "red");
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
        }
        else {
            $('#name_s').css("background", "#e8eeef");
            $('#register').css("background", "#ffa804");
            $("#register").prop("disabled", false);
        }
    });
    $('#dir').focusout(function () {
        // get values on the focusout event
        if (!$('#dir').val()) {
            $('#dir').css("background", "red");
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
        }
        else {
            $('#dir').css("background", "#e8eeef");
            $('#register').css("background", "#ffa804");
            $("#register").prop("disabled", false);
        }
    });
    $('#tlf').focusout(function () {
        // get values on the focusout event
        if (!$('#tlf').val()) {
            $('#tlf').css("background", "red");
            $('#register').css("background", "red");
            $("#register").prop("disabled", true);
        }
        else {
            $('#tlf').css("background", "#e8eeef");
            $('#register').css("background", "#ffa804");
            $("#register").prop("disabled", false);
        }
    });
</script>

</html>
